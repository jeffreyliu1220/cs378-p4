(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{64:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(47),r=(c(64),c(0)),s=c(3),o=c(9),i=c(20),l=c(48),u=c(10),j=c(49),b=c(4),O=Object(j.a)({apiKey:"AIzaSyA5RNzX4djVgWHR76UOGkVLVvt4kPdaXGM",authDomain:"human-computer-interacti-bc357.firebaseapp.com",databaseURL:"https://human-computer-interacti-bc357-default-rtdb.firebaseio.com",projectId:"human-computer-interacti-bc357",storageBucket:"human-computer-interacti-bc357.appspot.com",messagingSenderId:"1087306834452",appId:"1:1087306834452:web:c4e5b2379c41ef85927d01",measurementId:"G-3Y9Q0CFP7C"}),d=Object(i.b)(O),h=new i.a;function f(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=(t[0],t[1]),a=Object(u.m)();Object(n.useEffect)((function(){var e=Object(i.b)();Object(i.c)(e,(function(e){e&&(c(e),a("/MainPage"))}))}));var j=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(i.d)(d,h).then((function(e){i.a.credentialFromResult(e).accessToken;c(e.user),console.log(e.user),null!=e.user?(console.log("NAVIGATING"),a("/MainPage")):console.log("CANNOT NAVIGATE")})).catch((function(e){console.log("HAVING SOME SORT OF ERROR IDK WHATT IS GOING ON?");e.code,e.message,e.customData.email,i.a.credentialFromError(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:{height:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column"},children:[Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"P4 Google Firebase Assignment"})}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(b.jsx)("h2",{children:"Login with Google"}),Object(b.jsx)(l.GoogleButton,{onClick:j})]})]})})}var m=c(40),x=c(105),g="https://human-computer-interacti-bc357-default-rtdb.firebaseio.com/";function p(){var e=Object(i.b)().currentUser;return console.log(e),console.log("MAIN PAGE USER: ",null===e||void 0===e?void 0:e.email),Object(n.useEffect)((function(){var e=Object(i.b)();Object(i.c)(e,(function(t){t?(t=e.currentUser,console.log("AHHHHHHHHHHH USER:",t)):(consolee.log("AHHHHHHHHHHHHHHHH NOTHING????"),Object(u.m)()("/"))}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["Hello: ",null===e||void 0===e?void 0:e.email,"!"]}),Object(b.jsx)(v,{}),Object(b.jsx)(H,{})]})}function v(){var e=Object(u.m)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(m.a,{onClick:function(){var t=Object(i.b)();Object(i.e)(t).then((function(){console.log("LOGGING OUT"),e("/")})).catch((function(e){console.log("ERROR LOGGING OUT")}))},children:"Logout"})})}function H(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),s=Object(o.a)(r,2),l=s[0],u=s[1],j=Object(n.useState)(null),O=Object(o.a)(j,2),d=O[0],h=O[1],f=Object(n.useState)(null),p=Object(o.a)(f,2),v=p[0],H=p[1],S=Object(n.useState)(null),G=Object(o.a)(S,2),N=(G[0],G[1],Object(n.useState)(null)),I=Object(o.a)(N,2),T=I[0],y=I[1];Object(n.useEffect)((function(){var e=Object(i.b)();Object(i.c)(e,(function(e){e&&y(e)}))}));return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"Modified React + Firebase Tutorial"}),Object(b.jsx)("h2",{children:"CS378 23Spring P4"}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(x.a,{id:"outlined-basic",label:"Type something to send data",fullWidth:!0,value:c,onChange:function(e){var t=e.target;a(t.value),console.log(t.value)},variant:"outlined"}),Object(b.jsx)(m.a,{onClick:function(){return function(){a(""),y(null);var e={user:T.email,date:new Date,text:c};return fetch("".concat(g+"/testData","/.json"),{method:"POST",body:JSON.stringify(e)}).then((function(e){200!==e.status?h("There was an error: "+e.statusText):h("Successfully sent. Check Firebase console.")}))}()},children:"Send data"}),Object(b.jsx)("text",{children:d})]}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m.a,{onClick:function(){fetch("".concat(g+"/testData","/.json")).then((function(e){if(console.log(e),200===e.status)return H("Successfully retrieved the data"),e.json();H("There was an error: "+e.statusText)})).then((function(e){if(e){var t=Object.keys(e);console.log(e);var c=t.map((function(t){return e[t]})).filter((function(e){return e.user===T.email}));u(c)}}))},children:"Retrieve data"}),Object(b.jsx)("text",{children:v}),l&&l.length?l.map((function(e){return Object(b.jsx)("span",{className:"retrieved-data",children:"Text: "+e.text+", Date: "+e.date.slice(0,10)+" "})})):"Waiting to retrieve data"]})]})}c(75);var S=c(34);function G(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(S.a,{basename:"/cs378-p4",children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",element:Object(b.jsx)(f,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/MainPage",element:Object(b.jsx)(p,{})})]})})})}var N=document.getElementById("root");Object(a.createRoot)(N).render(Object(b.jsx)(n.StrictMode,{children:Object(b.jsx)(G,{})}))}},[[76,1,2]]]);
//# sourceMappingURL=main.d63b1376.chunk.js.map